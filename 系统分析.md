# 基于ThinkGear的脑波监测与工作效率评估软件

## 简介

### ThinkGear 简介

ThinkGear AM芯片，由美国Neurosky（中文名：神念科技）公司研发的世界第一款的脑电图传感器，因为采用了干电极传感器（而非医院所用的涂导电胶的湿传感器）和先进的消噪功能，使得在消费电子中大规模的被应用成为可能。

([百度百科链接](http://baike.baidu.com/link?url=MbO2qBdQ2o2KlfjRIas5FCY_shCxyyEkIw7wYVRivGW2uySlkDCzP1dEiB-YrfVh-tKY9W03FprGDoFQJGAZ_a))

#### 特点

* 直接与干电极相连
* 单EEG脑电通道+参考电极+地线
* 可以检测到极微弱的脑电信号
* 可过滤掉噪音，抗干扰
* 512Hz原始脑电信号

#### eSense脑波输出

* 原始脑电信号
* 专注
* 放松
* 眨眼
* 脑波：delta, theta, low alpha, alpha, low beta, gamma

#### 应用案例

* **MindFlex：** 用大脑控制海绵球在空中的高度，用念力控制气垫上小球悬浮的高度，并使之在充满障碍的迷宫中前行。
* **意念猫耳朵：** 超萌玩具，猫耳朵会随着情绪的变化耸拉下来或高高立起。
* **脑立方：** 帮助孩子青少年成功的大脑训练系统，结合训练软件，帮助提高专注力和记忆力。
* **Brainathlete：** 应用于美国奥林匹克射箭队，帮助运动员调整到最适合比赛的大脑状态。
* **XWave：** 应用在iPhone, iPad 和 iPod Touch 上，让你随时随地对大脑进行锻炼，充电及娱乐。
* **Zigbee：** 多人脑电波同步评测设备，同时评测多人心理状态。
* **BrainLink：** BrainLink是一个配备ThinkGear AM芯片的头戴式脑电波传感器。通过蓝牙无线连接手机、平板电脑等终端设备。配合相应的应用软件进行训练，帮助提高专注力和放松力。

### MindSet 简介

MindSet是美国NeuroSky公司基于其最新的脑机接口（Brain Computer Interface，简称BCI）技术研发的一款“意念耳机”。MindSet通过对佩戴者脑电波信号的实时采集和分析处理，让使用者能够通过意念控制电脑中的人物和场景。

生物电现象是生命活动的基本特征之一。人类在进行思维活动时在大脑产生的生物电信号就是脑电波，这些脑电波信号可以通过放置在头皮的传感器来进行测量和研究。

MindSet通过干态电极传感器采集大脑产生的生物电信号，并将这些采集的信号送入ThinkGear芯片，ThinkGear将混杂在信号中的噪音以及运动产生的扰动进行滤除，并将有用信号进行放大，然后通过NeuroSky eSense算法解读出描述使用者当前精神状态的eSense参数（专注度、放松度），最终，通过将这些量化的参数输出到电脑、手机等智能设备，实现基于脑电波的人机交互，即通常所说的意念控制。

**本次课程设计所使用的设备就是购于淘宝的基于MindSet意念耳机二次开发出的一个简易版的接受和读取脑波信号的头戴式设备，与安卓之间的通信则利用用蓝牙和ThinkGear提供的SDK完成。**

([百度百科链接](http://baike.baidu.com/link?url=3FZUD_etPP71qzgEIYj31RSWKYsbyHSj8228QkBPFlQBq4807tY76qztxRq4XWvSZvG8AKjpj6x1aErgVFoEU5sEBwWE-roX_Pu3_I5ozSW))

### 项目简介

项目的灵感来源于我在表弟家的一次做客，那时候他正在写作业，然后他爸爸也就是我姑父说如果有个设备可以监测他写作业的时候是不是专心那就好了。刚好我一个朋友送了我一套MindSet的设备，就可以用于获取人脑某一时刻的专注度。于是我产生了写这样一个软件的念头，除了可以用于监测小孩子写作业，对于成年人在工作的过程中，也可以起到一个监测的作用，对于自己一段时间的工作状态也可以有一个客观的参考。

在使用这个App时，使用者在需要开始工作时带上MindSet的设备，然后打开App，选择工作模式（暂定手动停止和定时提醒两种），然后就可以开始一段时间的工作。这个过程中，App本身会自动和MindSet设备通讯，实时地获取每个时间中使用者注意力水平，并以0~100为分数段记录下来。在工作完成后或者定时结束后，会生成在这一个工作时间段中使用者的注意力变化折线图已经平均注意力水平等一系列相关数据，再结合在App中类似评星这样的主观评分，来得出使用者在这段时间内主客观的注意力水平指数，以供参考或者训练。

在每次得出结果以后，用户还可以将数据上传到服务器，作为一个使用历史的记录。除了方便用户查看以外，也可以用于数据分析，比如对设备本身的精度和准确程度的一个分析，还可以结合用户的年龄、性别、职业等等其他数据也可以给日后的数据挖掘或者分析提供一个很好的数据库。

考虑到本次项目中使用的MindSet版本并非一个专业的医疗级高精度脑电波监测设备，而且考虑到专业性的问题，对于实际能够获取得到的人脑Alpha波、Beta波等数据并不能有一个很专业的认识，所以本次实验中所使用的数据仅为SDK直接提供的专注度指数，而且监测得出的结果仅为参考值，以及用于验证整个App的构思和现实使用价值。

## 模块划分

1. **用户系统：** 主要为服务器端，用于作为服务器中不同用户数据的划分。
2. **任务系统：** 该模块为安卓端用户开始和停止监测的过程，可以看做一个用户的任务系统，可以手动开始任务结束任务，也可以设置一个定时任务，时间到后提示用户并停止监测。
3. **数据系统：** 除了任务过程中实时地从MindSet设备中获取数据并存储以外，该模块还包括在监测结束后生成平均值、极大极小值、每个时刻的实时数值等统计数据。
4. **历史系统：** 包括用户数据的本地化存储以及服务端存储两部分，本地保留一段时期的历史数据，服务端保留该注册的用户所有的历史监测数据，App中可以查看到本地和服务器两部分历史的数据以及对应的统计等信息。
5. **UI系统：** 用于处理所有用户的交互，包括App的开场动画、用户登录注册过程中的输入以及最后监测结果的可视化（例如折线图、饼图等）。

## 技术方案

### 安卓端

安卓端主要需要使用到的第三方工具库就是ThinkGear提供的SDK，用于监测对应的MindSet设备还有通过蓝牙读取实时的监测数据。

### 服务端

考虑到开发时间、难度以及用户的数据模型，后端采用Node.js + MongoDB来实现。